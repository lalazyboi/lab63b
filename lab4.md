# การทดลองที่ ๔ เรื่อง การเขียนโปรแกรมอินพุทสัญญาณดิจิทัล

## วัตถุประสงค์
1. เพื่อให้นักศึกษามีความรู้เกี่ยวกับการเขียนโปรแกรมลงไมโครคอนโทรเลอร์
2. เพื่อศึกษาการเขียนโปรแกรมอินพุทสัญญาณดิจิทัล

## อุปกรณ์ที่ใช้
1. ไมโครคอนโทรลเลอร์ (ESP-01)
2. อุปกรณ์ในการเขียนโปรแกรม เช่น PC,Laptop
3. USB to serial port
4. อะแดปเตอร์
5. รีเลย์
6. LED
7. sensor แสง
8. ตัวต้านทาน

## ศึกษาข้อมูลเบื้องต้น
* [วิธีการทดลอง](https://www.youtube.com/watch?v=nFqoZT26U5k&ab_channel=TANI-IOT)
* [Source code](https://github.com/choompol-boonmee/lab63b/tree/master/examples)
* [platformIO](https://platformio.org/)

## วิธีทำการทดลอง
1. พิมพ์คำสั่ง `pwd` แล้วเข้าที่ไปโฟลเดอร์ 4 โดยพิมพ์ `cd 04_Input-Port`
![2021-03-25 (8)](https://user-images.githubusercontent.com/78695932/112364082-be7c3d00-8d08-11eb-82a3-b92d73c88d4c.png)

2. พิมพ์ `vi src/main.cpp` เพื่อดูข้อมูล
![2021-03-25 (10)](https://user-images.githubusercontent.com/78695932/112364130-c805a500-8d08-11eb-82c2-c29a2ae310b5.png)

3. upload โปรแกรมโดยพิมพ์ `pio run -t upload`
![2021-03-25 (9)](https://user-images.githubusercontent.com/78695932/112364612-4c582800-8d09-11eb-87d0-aa80a768ffd5.png)

4. กดปุ่ม upload แล้วกด reset ที่ไมโครคอนโทรเลอร์
![2021-03-25 (12)](https://user-images.githubusercontent.com/78695932/112364534-35b1d100-8d09-11eb-92fa-20163a00279b.png)

5.พิมพ์ `pio device monitor` เพื่อให้โปรแกรมทำงาน
![2021-03-25 (14)](https://user-images.githubusercontent.com/78695932/112364561-3d717580-8d09-11eb-9056-11f3e9ec6ab7.png)

6. นำสายไฟขาวเสียบที่สายไฟดำ
![2021-03-25 (13)](https://user-images.githubusercontent.com/78695932/112364698-5f6af800-8d09-11eb-9886-fe231b34db2d.png)

7. กดปุ่มสีดำที่ไมโครคอนโทรเลอร์ค้างไว้ซักครู่แล้วสังเกตผล
![2021-03-25 (15)](https://user-images.githubusercontent.com/78695932/112364724-685bc980-8d09-11eb-96c2-3105ce4ab2cc.png)

8. ต่อ sensor แสงกับไฟเลี้ยงตรง port สีแดง จากนั้นต่อ sensor กับตัวต้านทานที่ port 0 และอีกขาต่อกับ GND(เส้นสีดำ)  
![2021-03-25 (16)](https://user-images.githubusercontent.com/78695932/112364745-6db91400-8d09-11eb-9f80-945d3e5090d9.png)

9. ให้ input สีขาวต่อกับ sensor
![2021-03-25 (17)](https://user-images.githubusercontent.com/78695932/112364763-73aef500-8d09-11eb-8d00-7364f0a99c74.png)

10. เอามือบัง sensor แล้วสังเกตผล
![2021-03-25 (18)](https://user-images.githubusercontent.com/78695932/112364774-76a9e580-8d09-11eb-8125-b099ae3ba417.png)


## การบันทึกผลการทดลอง
    ให้สังเกตผลการทดลองแล้วเขียนอธิบาย เช่น เมื่อลองรันโปรแกรมจะอ่านค่าได้ 1 ตลอด ไฟจะดับและเมื่อเอาสายไฟขาวต่อกับ GND จะอ่านค่าได้ 0 และไฟสว่าง 
## อภิปรายผลการทดลอง
    ในการทดลองนี้เราสามารถนำไปประยกต์ใช้หรือคิดต่อยอดอะไรได้อีกบ้าง เช่น จากการต่อ sensor แสงเพิ่มเติมเข้าไปจะได้ว่าเมื่อไม่บังแสงจะอ่านค่าได้ 0 ไฟจะสว่างและเมื่อบังแสงอ่านค่าได้ 1 ไฟจะดับเนื่องจากค่าความต้านทานสูง ทำให้เราสามารถควบคุมหลอดไฟในบ้านด้วยการทดลองนี้ได้
## คำถามหลังการทดลอง
    เราสามารถนำการทดลองนี้ไปประยุกต์ใช้อะไรได้บ้าง
     * ไฟอัตโนมัติภายในบ้าน
